!function(){"use strict";angular.module("firebase-starter",["firebase"])}(),function(){"use strict";function e(e,t,n,i,a,u,s){return function(o,f,c,h){var _=new r(e,t,n,i,a,u,s,o,f,c,h);return _.construct()}}var r;angular.module("firebase-starter").factory("fireStarter",e),e.$inject=["$injector","$window","$firebaseAuth","$firebaseObject","$firebaseArray","$q","$log"],r=function(e,r,t,n,i,a,u,s,o,f,c){function h(){return this._injector.get(this._constant)}function _(){return new this._window.Firebase(this._rootPath())}function b(e,r,t){return"auth"===e&&!r||"AUTH"===e&&!r?this._wrap(e,this._root()):t===!0?this._wrap(e,r):this._wrap(e,this._setRef(r))}function l(){var e=Array.prototype.slice.call(arguments),r=this._root();return e.length&&(r=r.child(d(e))),r}function d(e){for(var r=0;r<e.length;r++)if(angular.isArray(e[r]))e[r]=d(e[r]);else if("string"!=typeof e[r])try{e[r]=e[r].toString()}catch(t){throw new Error("Argument "+r+" to setPath is not a string: "+e[r])}return e.join("/")}function g(e,r){return"object"===e||"OBJECT"===e?this._firebaseObject(r):"array"===e||"ARRAY"===e?this._firebaseArray(r):"auth"===e||"AUTH"===e?this._firebaseAuth(r):"geo"===e?new GeoFire(r):void 0}this._injector=e,this._window=r,this._firebaseAuth=t,this._firebaseObject=n,this._firebaseArray=i,this._q=a,this._log=u,this._path=o,this._type=s;var $=["auth","array","object","geo","ARRAY","OBJECT","AUTH"];if($.indexOf(this._type)<0)throw new Error("Invalid type: "+this._type+".  Please enter 'auth','object','array', 'AUTH','OBJECT','ARRAY',or 'geo'");if(this._flag=f||null,angular.isObject(this._flag)&&this._flag!==!0)throw new Error("Invalid flag: "+this._flag+". Please enter 'true' if you wish to bypass creating a firebase Reference");if(Array.isArray(this._path)&&angular.isObject(this._flag))throw new Error("Invalid flag: "+this._flag+" for path: "+this._path+".  Please leave flag argument undefined if you wish to create a firebase Reference");this._constant=c||"FBURL",this._rootPath=h,this._root=_,this._build=b,this._wrap=g,this._setRef=l,this._firebase=this._build(this._type,this._path,this._flag)},r.prototype={construct:function(){function e(e){function r(e){return c._firebase.$authAnonymously(e)}function t(e,r){return c._firebase.$authWithCustomToken(e,r)}function n(e,r){return c._firebase.$authWithPassword(e,r)}function u(e){var r={remember:!0,scope:"email"};return c._firebase.$authWithOAuthPopup(e,r)}function s(e){return c._firebase.$changeEmail(e)}function o(e){return c._firebase.$changePassword(e)}function f(e){return c._firebase.$createUser(e)}function h(){return c._firebase.$getAuth()}function _(e,r){return c._firebase.$onAuth(e,r)}function b(e){return c._firebase.$removeUser(e)}function l(){return c._firebase.$requireAuth()}function d(e){return c._firebase.$resetPassword(e)}function g(){return c._firebase.$unauth()}function $(){return c._firebase.$waitForAuth()}return angular.extend(e,{base:i,path:a,authAnonymously:r,authWithCustomToken:t,authWithPassword:n,authWithOAuthPopup:u,changePassword:o,changeEmail:s,createUser:f,getAuth:h,onAuth:_,removeUser:b,requireAuth:l,resetPassword:d,unauth:g,waitForAuth:$})}function r(e){function r(e,r){return c._firebase.distance(e,r)}function t(e){return o(c._firebase.get(e))["catch"](f)}function n(e){function r(e){return{center:function(){return e.center()},radius:function(){return e.radius()},updateCriteria:function(r){return e.updateCriteria(r)},on:function(r,t,n){return e.on(r,function(e,r,i){return o(t.call(n,e,r,i))["catch"](f)})},cancel:function(){return e.cancel()},remove:function(){return e.remove()}}}return o(c._firebase.query(e)).then(r)["catch"](f)}function u(){return c._firebase.ref()}function s(e){return o(c._firebase.remove(e)).then(_)["catch"](f)}function h(e,r){return o(c._firebase.set(e,r)).then(_)["catch"](f)}function _(){return o(u())}return angular.extend(e,{base:i,path:a,distance:r,get:t,query:n,ref:u,remove:s,set:h})}function t(e){function r(e){return c._firebase.$add(e)}function t(){return c._firebase.$destroy()}function n(e){return c._firebase.$getRecord(e)}function u(e){return c._firebase.$indexFor(e)}function s(e){return c._firebase[e]}function o(){return c._firebase.length}function f(e){return c._firebase.$keyAt(e)}function h(e,r){return c._firebase.$loaded(e,r)}function _(){return c._log.info(c._firebase),c._firebase.$ref()}function b(e){return c._firebase.$remove(e)}function l(e){return c._firebase.$save(e)}function d(e,r){return c._firebase.$watch(e,r)}return angular.extend(e,{base:i,path:a,add:r,destroy:t,getRecord:n,keyAt:f,indexFor:u,idx:s,length:o,loaded:h,ref:_,remove:b,save:l,watch:d})}function n(e){function r(e,r){return c._firebase.$bindTo(e,r)}function t(){return c._firebase.$destroy()}function n(){return c._firebase.$id}function u(e,r){return c._firebase.$loaded(e,r)}function s(){return c._firebase.$priority}function o(){return c._firebase.$ref()}function f(){return c._firebase.$remove()}function h(){return c._firebase.$save()}function _(e){return e?b(e):c._firebase.$value}function b(e){return c._firebase.$value=e,c._firebase.$value}function l(e,r){return c._firebase.$watch(e,r)}return angular.extend(e,{base:i,path:a,bindTo:r,destroy:t,id:n,loaded:u,ref:o,remove:f,save:h,priority:s,value:_,watch:l})}function i(){return c._firebase}function a(){return c._flag===!0?c._path.path:c._path}function u(){return Firebase.ServerValue.TIMESTAMP}function s(){return c._firebase}function o(e){return c._q.when(e)}function f(e){return c._q.reject(e)}var c=this,h={};switch(h.timestamp=u,c._type){case"object":return n(h);case"array":return t(h);case"auth":return e(h);case"geo":return r(h);case"ARRAY":return s(h);case"OBJECT":return s(h);case"AUTH":return s(h)}return c._fire=h,c._fire}}}.call(this);
